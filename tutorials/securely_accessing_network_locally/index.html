<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.80.0" /><META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Securely Accessing Opta Networks Locally | </title><meta property="og:title" content="Securely Accessing Opta Networks Locally" />
<meta property="og:description" content="Instructions to securely access network endpoints in an Opta environment
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/tutorials/securely_accessing_network_locally/" />
<meta property="article:published_time" content="2022-01-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-01-19T00:54:27-08:00" />
<meta itemprop="name" content="Securely Accessing Opta Networks Locally">
<meta itemprop="description" content="Instructions to securely access network endpoints in an Opta environment
">
<meta itemprop="datePublished" content="2022-01-03T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-01-19T00:54:27-08:00" />
<meta itemprop="wordCount" content="697">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Securely Accessing Opta Networks Locally"/>
<meta name="twitter:description" content="Instructions to securely access network endpoints in an Opta environment
"/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-188763285-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






<link rel="preload" href="/scss/main.min.a0e0a0dde3d7755b9c55c44e5964b138357a75c062bf61c5ea747639907decd0.css" as="style">
<link href="/scss/main.min.a0e0a0dde3d7755b9c55c44e5964b138357a75c062bf61c5ea747639907decd0.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>



<link rel="stylesheet" href="/css/prism.css"/>

<script type="text/javascript">
    (function(e,t){var n=e.amplitude||{_q:[],_iq:{}};var r=t.createElement("script")
    ;r.type="text/javascript"
    ;r.integrity="sha384-girahbTbYZ9tT03PWWj0mEVgyxtZoyDF9KVZdL+R53PP5wCY0PiVUKq0jeRlMx9M"
    ;r.crossOrigin="anonymous";r.async=true
    ;r.src="https://cdn.amplitude.com/libs/amplitude-7.2.1-min.gz.js"
    ;r.onload=function(){if(!e.amplitude.runQueuedFunctions){
        console.log("[Amplitude] Error: could not load SDK")}}
    ;var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)
    ;function s(e,t){e.prototype[t]=function(){
        this._q.push([t].concat(Array.prototype.slice.call(arguments,0)));return this}}
        var o=function(){this._q=[];return this}
        ;var a=["add","append","clearAll","prepend","set","setOnce","unset"]
        ;for(var u=0;u<a.length;u++){s(o,a[u])}n.Identify=o;var c=function(){this._q=[]
            ;return this}
        ;var l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"]
        ;for(var p=0;p<l.length;p++){s(c,l[p])}n.Revenue=c
        ;var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId", "enableTracking", "setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"]
        ;function v(e){function t(t){e[t]=function(){
            e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}
            for(var n=0;n<d.length;n++){t(d[n])}}v(n);n.getInstance=function(e){
            e=(!e||e.length===0?"$default_instance":e).toLowerCase()
            ;if(!n._iq.hasOwnProperty(e)){n._iq[e]={_q:[]};v(n._iq[e])}return n._iq[e]}
        ;e.amplitude=n})(window,document);

    amplitude.getInstance().init("3c2edcd34808a6431499f4cd9b034e34");

    amplitude.getInstance().logEvent("Viewed " + document.title + " Page", {
        url: window.location.href,
    });
</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />



    <title>Securely Accessing Opta Networks Locally | </title>
  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080"><defs><style>.cls-1{fill:#ef7c52}.cls-2{fill:#fff}</style></defs><path class="cls-1" d="M498.58 679.17c-40 0-78.1-15.67-107.19-44.13l-.08-.07c-28.46-29.09-44.13-67.17-44.13-107.2v-5h62.46v5a88.95 88.95.0 00177.89.0 87.44 87.44.0 00-26-62.56 88.75 88.75.0 00-62.9-25.77h-5V377h5c40.68.0 78.55 15.46 106.64 43.55h0c28.87 28.87 44.77 67 44.77 107.24S634.09 606.14 605.22 635A149.78 149.78.0 01498.58 679.17z"/><path class="cls-2" d="M1010.17 528.07c0 39-15.25 75.65-43.32 103.71-27.45 27.45-64.05 42.09-103.09 42.09-34.77.0-67.71-16.47-93.94-38.43V795.5H717.36V388.38h52.46v32.33c26.23-22 59.17-38.43 93.94-38.43 39 0 75.64 14.64 103.09 42.09C994.92 452.43 1010.17 489 1010.17 528.07zm-52.46.0c0-51.85-42.1-94.55-94-94.55s-93.94 42.7-93.94 94.55 42.09 94.56 93.94 94.56S957.71 579.93 957.71 528.07z"/><path class="cls-2" d="M1515 388.38h52.46V667.77H1515V635.44c-26.23 22-59.17 38.43-93.94 38.43a146.76 146.76.0 01-103.7-42.09c-27.45-28.06-42.7-64.66-42.7-103.71s15.25-75.64 42.7-103.7A146.76 146.76.0 011421 382.28c34.77.0 67.71 16.47 93.94 38.43zm0 139.69c0-51.85-42.09-94.55-93.94-94.55s-93.94 42.7-93.94 94.55 42.09 94.56 93.94 94.56S1515 579.93 1515 528.07z"/><path class="cls-2" d="M1080.67 280.41h61.73v130.5h61.74v62.51H1142.4v82.05s0 54.51 61.74 54.7v57.05s-51.58 7.81-94.75-35.56c-29-29.07-28.72-65.64-28.72-65.64z"/><rect class="cls-2" x="348.09" y="738.86" width="303.54" height="60.73"/><rect class="cls-2" x="835.45" y="738.86" width="737.37" height="60.73"/></svg></span><span class="font-weight-bold"></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://github.com/run-x/opta" target="_blank" ><span>GitHub</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://slack.opta.dev" target="_blank" ><span>Slack</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/" ><span class="active">Opta</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input type="search" class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            


<div id="td-sidebar-menu" class="td-sidebar__inner">
  <div id="content-mobile" style="display: flex" class="justify-content-center align-items-center">
    <button style="display: block" class="btn btn-link td-sidebar__toggle d-md-none fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </div>
  <nav class="collapse td-sidebar-nav pt-4 pl-2" id="td-section-nav">
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Opta</a>
  </li>
  <ul>
    <li class="collapse show" id="">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/getting-started/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started</a>
  </li>
  <ul>
    <li class="collapse " id="getting-started">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedaws" href="/getting-started/aws/">AWS</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedgcp" href="/getting-started/gcp/">GCP</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedazure" href="/getting-started/azure/">Azure</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-getting-startedlocal" href="/getting-started/local/">Local</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/installation/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Installation</a>
  </li>
  <ul>
    <li class="collapse " id="installation">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/observability/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Observability</a>
  </li>
  <ul>
    <li class="collapse " id="observability">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-observabilitylogdna" href="/observability/logdna/">LogDNA Integration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-observabilitydatadog" href="/observability/datadog/">Datadog Integration</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">References</a>
  </li>
  <ul>
    <li class="collapse " id="reference">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/aws/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">AWS</a>
  </li>
  <ul>
    <li class="collapse " id="referenceaws">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/aws/environment_modules/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Environment</a>
  </li>
  <ul>
    <li class="collapse " id="referenceawsenvironment_modules">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulesaws-nodegroup" href="/reference/aws/environment_modules/aws-nodegroup/">aws-nodegroup</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulesaws-ses" href="/reference/aws/environment_modules/aws-ses/">aws-ses</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulesaws-base" href="/reference/aws/environment_modules/aws-base/">base</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulesdatadog" href="/reference/aws/environment_modules/datadog/">datadog</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulesaws-dns" href="/reference/aws/environment_modules/aws-dns/">dns</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulesexternal-ssl-cert" href="/reference/aws/environment_modules/external-ssl-cert/">external-ssl-cert</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulesaws-k8s-base" href="/reference/aws/environment_modules/aws-k8s-base/">k8s-base</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulesaws-eks" href="/reference/aws/environment_modules/aws-eks/">k8s-cluster</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulesrunx" href="/reference/aws/environment_modules/runx/">runx</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsenvironment_modulescustom-terraform" href="/reference/aws/environment_modules/custom-terraform/">custom-terraform</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/aws/service_modules/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Service</a>
  </li>
  <ul>
    <li class="collapse " id="referenceawsservice_modules">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_moduleslambda-function" href="/reference/aws/service_modules/lambda-function/">aws-lambda</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulescloudfront-distribution" href="/reference/aws/service_modules/cloudfront-distribution/">cloudfront-distribution</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesmongodb-atlas" href="/reference/aws/service_modules/mongodb-atlas/">mongodb-atlas</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-documentdb" href="/reference/aws/service_modules/aws-documentdb/">aws-documentdb</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-iam-role" href="/reference/aws/service_modules/aws-iam-role/">aws-iam-role</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-iam-user" href="/reference/aws/service_modules/aws-iam-user/">aws-iam-user</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-s3" href="/reference/aws/service_modules/aws-s3/">aws-s3</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-sns" href="/reference/aws/service_modules/aws-sns/">aws-sns</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-sqs" href="/reference/aws/service_modules/aws-sqs/">aws-sqs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-dynamodb" href="/reference/aws/service_modules/aws-dynamodb/">dynamodb-table</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_moduleshelm-chart" href="/reference/aws/service_modules/helm-chart/">helm-chart</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-k8s-service" href="/reference/aws/service_modules/aws-k8s-service/">k8s-service</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-mysql" href="/reference/aws/service_modules/aws-mysql/">postgres</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-postgres" href="/reference/aws/service_modules/aws-postgres/">postgres</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceawsservice_modulesaws-redis" href="/reference/aws/service_modules/aws-redis/">redis</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/azurerm/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Azure</a>
  </li>
  <ul>
    <li class="collapse " id="referenceazurerm">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/azurerm/environment_modules/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Environment</a>
  </li>
  <ul>
    <li class="collapse " id="referenceazurermenvironment_modules">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermenvironment_modulesazure-base" href="/reference/azurerm/environment_modules/azure-base/">base</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermenvironment_modulesdatadog" href="/reference/azurerm/environment_modules/datadog/">datadog</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermenvironment_modulesexternal-ssl-cert" href="/reference/azurerm/environment_modules/external-ssl-cert/">external-ssl-cert</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermenvironment_modulesazure-k8s-base" href="/reference/azurerm/environment_modules/azure-k8s-base/">k8s-base</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermenvironment_modulesazure-aks" href="/reference/azurerm/environment_modules/azure-aks/">k8s-cluster</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermenvironment_modulesrunx" href="/reference/azurerm/environment_modules/runx/">runx</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/azurerm/service_modules/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Service</a>
  </li>
  <ul>
    <li class="collapse " id="referenceazurermservice_modules">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermservice_moduleshelm-chart" href="/reference/azurerm/service_modules/helm-chart/">helm-chart</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermservice_modulesazure-k8s-service" href="/reference/azurerm/service_modules/azure-k8s-service/">k8s-service</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermservice_modulesazure-postgres" href="/reference/azurerm/service_modules/azure-postgres/">postgres</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referenceazurermservice_modulesazure-redis" href="/reference/azurerm/service_modules/azure-redis/"></a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/google/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">GCP</a>
  </li>
  <ul>
    <li class="collapse " id="referencegoogle">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/google/environment_modules/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Environment</a>
  </li>
  <ul>
    <li class="collapse " id="referencegoogleenvironment_modules">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleenvironment_modulesgcp-base" href="/reference/google/environment_modules/gcp-base/">base</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleenvironment_modulesdatadog" href="/reference/google/environment_modules/datadog/">datadog</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleenvironment_modulesgcp-dns" href="/reference/google/environment_modules/gcp-dns/">dns</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleenvironment_modulesexternal-ssl-cert" href="/reference/google/environment_modules/external-ssl-cert/">external-ssl-cert</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleenvironment_modulesgcp-nodepool" href="/reference/google/environment_modules/gcp-nodepool/">gcp-nodegpool</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleenvironment_modulesgcp-k8s-base" href="/reference/google/environment_modules/gcp-k8s-base/">k8s-base</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleenvironment_modulesgcp-gke" href="/reference/google/environment_modules/gcp-gke/">k8s-cluster</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleenvironment_modulesrunx" href="/reference/google/environment_modules/runx/">runx</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleenvironment_modulescustom-terraform" href="/reference/google/environment_modules/custom-terraform/">custom-terraform</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/reference/google/service_modules/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Service</a>
  </li>
  <ul>
    <li class="collapse " id="referencegoogleservice_modules">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleservice_modulesgcp-gcs" href="/reference/google/service_modules/gcp-gcs/">gcp-gcs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleservice_modulesgcp-service-account" href="/reference/google/service_modules/gcp-service-account/">gcp-service-account</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleservice_moduleshelm-chart" href="/reference/google/service_modules/helm-chart/">helm-chart</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleservice_modulesgcp-k8s-service" href="/reference/google/service_modules/gcp-k8s-service/">k8s-service</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleservice_modulesgcp-mysql" href="/reference/google/service_modules/gcp-mysql/">mysql</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleservice_modulesgcp-postgres" href="/reference/google/service_modules/gcp-postgres/">postgres</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-referencegoogleservice_modulesgcp-redis" href="/reference/google/service_modules/gcp-redis/">redis</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/tutorials/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Tutorials</a>
  </li>
  <ul>
    <li class="collapse show" id="tutorials">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialschanging_domain" href="/tutorials/changing_domain/">Changing Domains</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialscontinuous_deployment" href="/tutorials/continuous_deployment/">Continuous Deployment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialscron" href="/tutorials/cron/">Cron jobs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialscustom_image" href="/tutorials/custom_image/">Custom Image</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsdebugging" href="/tutorials/debugging/">Debugging</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsenvironment_variables" href="/tutorials/environment_variables/">Environment Variables</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsingress" href="/tutorials/ingress/">Ingress</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsservice2service" href="/tutorials/service2service/">Inter Service Communication</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialssecrets" href="/tutorials/secrets/">Secrets</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-tutorialssecurely_accessing_network_locally" href="/tutorials/securely_accessing_network_locally/">Securely Accessing Opta Networks Locally</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialstemplatization_variables" href="/tutorials/templatization_variables/">Templatization Variables</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsopta_local_troubleshooting" href="/tutorials/opta_local_troubleshooting/">Local Troubleshooting</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsvpc_peering" href="/tutorials/vpc_peering/">AWS VPC Peering</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsdeploy_to_aws_button" href="/tutorials/deploy_to_aws_button/">Deploy to AWS Button</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsecr_access" href="/tutorials/ecr_access/">ECR Access</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsgcr_access" href="/tutorials/gcr_access/">GCR Access</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-tutorialsiam" href="/tutorials/iam/">IAM</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/compliance/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Compliance</a>
  </li>
  <ul>
    <li class="collapse " id="compliance">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/architecture/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Architecture &amp; Security</a>
  </li>
  <ul>
    <li class="collapse " id="architecture">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-architectureaws" href="/architecture/aws/">AWS</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-architectureazure" href="/architecture/azure/">Azure</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-architecturegcp" href="/architecture/gcp/">GCP</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-architecturekubernetes" href="/architecture/kubernetes/">Kubernetes</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>

          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
            
<div class="td-content">
	<h1>Securely Accessing Opta Networks Locally</h1>
	<div class="lead">Instructions to securely access network endpoints in an Opta environment</div>
	<h1 id="overview">Overview</h1>
<p>When working with secure private networks, and specifically with the databases in them, one may wish to somehow manually
connect to them for debugging purpose. This action, naturally, has security concerns and there&rsquo;s many
solutions out there. For our users, we typically recommend installing VPN servers within your opta-managed VPCs and
handling network access to your environments from there. For just getting started and development environments, however,
there&rsquo;s a rather straight-forward TCP proxy solution. This article will discuss both solutions and the security concerns.</p>
<h1 id="tcp-proxy-service">TCP-Proxy Service</h1>
<p>A quick way to gain connectivity is to create a TCP-Proxy service with opta and using <code>kubectl port-forward</code> to gain
access to the proxy locally. Basically, there is this <a href="https://hub.docker.com/r/tecnativa/tcp-proxy">docker image called tecnativa/tcp-proxy</a>
and it pretty much does what its name says: based on environment variables specified by the user, it forwards all tcp
traffic sent to it on a user-specified port to another user-specified host + port. The way that you can leverage this
with opta is by creating a new k8s-service with Opta using that image, and forwarding TCP connections to your database.</p>
<p>So suppose you have a postgres database (so port 5432, for redis it would be 6379, for mysql 3306 etc&hellip;) and its host
is 10.40.153.14 (you can find out by checking the envars in a linked service). If you wanted to connect to it locally,
you could do so by first creating a following service in your opta environment:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#204a87;font-weight:bold">environments</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">my-env-yaml</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">path</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;opta.yaml&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">mytcpproxy</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">modules</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">  </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">app</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">type</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">k8s-service</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">image</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">tecnativa/tcp-proxy</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">min_containers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">max_containers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">port</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">tcp</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">5432</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">env_vars</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">TALK</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;10.40.153.14:5432&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">LISTEN</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;:5432&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></code></pre></div><p>After that service is created you can do a port forward to your localhost with the kubectl port-forward command:</p>
<p><code>kubectl port-forward -n mytcpproxy svc/app 5432:80</code></p>
<p>While this command is running, all TCP traffic to localhost:5432 shall be passed on to the tcp-proxy container in your
cluster, which will then proxy it to your database. Simply leave this command running, and start debugging in a new
shell.</p>
<h1 id="vpn-solution">VPN Solution</h1>
<p><a href="https://en.wikipedia.org/wiki/Virtual_private_network">VPNs</a> have been the de-facto private networking solution in the
industry for over a decade. Starting usage is quite simple: the vpn server has a list of users that are allowed to use
it. When a client wants to connect, they pass their login credentials (2FA highly recommended), and if it&rsquo;s valid they
are allowed to proxy their networking connections through the VPN. This can be done for all public traffic (which is
the basis of the &ldquo;mask your ip/access geo-restricted internet&rdquo;) or select traffic like to the VPC&rsquo;s network&rsquo;s private
subnets (which is what we&rsquo;re interested in now). There can be different features depending on your VPN product selection
(e.g. dns resolution), but this secure proxying is the heart of VPNs.</p>
<p>The Opta team highly encourages new users to consider a trusted VPN solution for long-term secure access needs. All major
clouds have copious amounts of articles about setting a VPN up, and several have their own VPN services, like
<a href="https://aws.amazon.com/vpn/">AWS VPN</a> or <a href="https://cloud.google.com/network-connectivity/docs/vpn/concepts/overview">Cloud VPN</a>.
Different VPN solutions will be best depending on user-specific minutae, but personally the Opta team has had great success
with <a href="https://openvpn.net/">OpenVPN</a>. It&rsquo;s <a href="https://github.com/OpenVPN/openvpn">open-sourced</a>, starts with a free tier
(max 2 concurrent user), is available on the <a href="https://aws.amazon.com/marketplace/pp/prodview-y3m73u6jd5srk">AWS</a> and
<a href="https://console.cloud.google.com/marketplace/product/openvpn-access-server-200800/openvpn-access-server">GCP</a> marketplace
for easy-installation (and lots of documentation), covers the essentials, and very simple to manage.</p>
<h2 id="opta-managed-vpn">Opta-managed VPN</h2>
<p>Opta currently does not have a VPN module for users to quickly spin up a VPN server for secure connections. This feature
is definitely something that can be developed, but it has not been strongly asked yet, and Opta is very user driven.
So if you&rsquo;d like to see this feature in the future, please join our <a href="https://slack.opta.dev/">slack</a> and reach out to us
there.</p>
<h1 id="security-concerns">Security Concerns</h1>
<p>As previously mentioned VPN is very standard, <em>and thus highly accepted</em> security solution. Setting one up and using it
effectively for all user connections to private data is practically a checkbox in most security compliance checklists.
The TCP proxy grants such secure access quite liberally and even if the security credentials where to be highly restricted
(so very few people can create it), once created it can be used by anyone with the kubectl-port forward permissions,
and without any auditing. Those users seeking security compliance should definitely not use/allow the TCP proxy in any
environment holding production data.</p>

	
	
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User support list" aria-label="User support list">
    <a class="text-white" target="_blank" rel="noopener" href="support@runx.dev" aria-label="User support list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/run-x/opta" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener" href="https://join.slack.com/t/opta-group/shared_invite/zt-r1p9k1iv-4MP1IMZCT9mwwwdJH0HRyA" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 RunX Labs Inc. All Rights Reserved</small>
        <small class="ml-1"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener">Privacy Policy</a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>


















<script src="/js/main.min.630faeed9abb9fd07c67681cb98128bbcde59398a65eacf9e96dc1fa4461ddc2.js" integrity="sha256-Yw&#43;u7Zq7n9B8Z2gcuYEou83lk5imXqz56W3B&#43;kRh3cI=" crossorigin="anonymous"></script>



<script src='/js/prism.js'></script>


<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
        apiKey: '45a325ff63b40a0ee70998f1049e20c3',
        indexName: 'runx',
        inputSelector: '.td-search-input',
        debug: false 
    });
</script>



  </body>
</html>